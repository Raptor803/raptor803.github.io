(()=>{var z=!0,H=!1,F=!0;"use strict";var W=function(){let t=[],e=!1;function i(){e||(e=!0,window.requestAnimationFrame?window.requestAnimationFrame(l):setTimeout(l,66))}function l(){t.forEach(function(n){n()}),e=!1}return{add:function(n){t.length||window.addEventListener("resize",i),t.push(n)},disable:function(){window.removeEventListener("resize",i)},reEnable:function(){window.addEventListener("resize",i)}}}();function U(t,e,i){let l="#"+t+" {  position: relative;}."+e+"-figure {  background-color: #D5D5D5;  overflow: hidden;  left: 0;  position: absolute;  top: 0;  margin: 0;}."+e+"-figure img {  left: 0;  position: absolute;  top: 0;  height: 100%;  width: 100%;  opacity: 0;  transition: "+(i/1e3).toString(10)+"s ease opacity;  -webkit-transition: "+(i/1e3).toString(10)+"s ease opacity;}."+e+"-figure img."+e+"-thumbnail {  -webkit-filter: blur(30px);  filter: blur(30px);  left: auto;  position: relative;  width: auto;}."+e+"-figure img."+e+"-loaded {  opacity: 1;}",n=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",u.styleSheet?u.styleSheet.cssText=l:u.appendChild(document.createTextNode(l)),n.appendChild(u)}function j(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}function Z(t){let e=0;do isNaN(t.offsetTop)||(e+=t.offsetTop),t=t.offsetParent;while(t);return e}function m(t,e){return this.inRAF=!1,this.isTransitioning=!1,this.minAspectRatioRequiresTransition=!1,this.minAspectRatio=null,this.latestYOffset=0,this.lastWindowWidth=window.innerWidth,this.scrollDirection="down",this.visibleImages=[],this.settings={containerId:"pig",scroller:window,classPrefix:"pig",figureTagName:"figure",spaceBetweenImages:8,transitionSpeed:500,primaryImageBufferHeight:1e3,secondaryImageBufferHeight:300,thumbnailSize:20,urlForSize:function(i,l){return"/img/"+l.toString(10)+"/"+i},styleForElement:function(i){return""},onClickHandler:null,getMinAspectRatio:function(i){return i<=640?2:i<=1280?4:i<=1920?5:6},getImageSize:function(i){return i<=640?100:i<=1920?250:500}},j(this.settings,e||{}),this.container=document.getElementById(this.settings.containerId),this.container||console.error("Could not find element with ID "+this.settings.containerId),this.scroller=this.settings.scroller,this.images=this._parseImageData(t),U(this.settings.containerId,this.settings.classPrefix,this.settings.transitionSpeed),this}m.prototype._getTransitionTimeout=function(){let t=1.5;return this.settings.transitionSpeed*t};m.prototype._getTransitionString=function(){return this.isTransitioning?(this.settings.transitionSpeed/1e3).toString(10)+"s transform ease":"none"};m.prototype._recomputeMinAspectRatio=function(){let t=this.minAspectRatio;this.minAspectRatio=this.settings.getMinAspectRatio(this.lastWindowWidth),t!==null&&t!==this.minAspectRatio?this.minAspectRatioRequiresTransition=!0:this.minAspectRatioRequiresTransition=!1};m.prototype._parseImageData=function(t){let e=[];return t.forEach(function(i,l){let n=new E(i,l,this);e.push(n)}.bind(this)),e};m.prototype._computeLayout=function(){let t=parseInt(this.container.clientWidth,10),e=[],i=0,l=0,n=0;this._recomputeMinAspectRatio(),!this.isTransitioning&&this.minAspectRatioRequiresTransition&&(this.isTransitioning=!0,setTimeout(function(){this.isTransitioning=!1},this._getTransitionTimeout()));let u=this._getTransitionString();[].forEach.call(this.images,function(a,w){if(n+=parseFloat(a.aspectRatio),e.push(a),n>=this.minAspectRatio||w+1===this.images.length){n=Math.max(n,this.minAspectRatio);let g=t-this.settings.spaceBetweenImages*(e.length-1),s=g/n;e.forEach(function(r){let h=s*r.aspectRatio;r.style={width:parseInt(h,10),height:parseInt(s,10),translateX:i,translateY:l,transition:u},i+=h+this.settings.spaceBetweenImages}.bind(this)),e=[],n=0,l+=parseInt(s,10)+this.settings.spaceBetweenImages,i=0}}.bind(this)),this.totalHeight=l-this.settings.spaceBetweenImages};m.prototype._doLayout=function(){this.container.style.height=this.totalHeight+"px";let t=this.scrollDirection==="up"?this.settings.primaryImageBufferHeight:this.settings.secondaryImageBufferHeight,e=this.scrollDirection==="down"?this.settings.secondaryImageBufferHeight:this.settings.primaryImageBufferHeight,i=Z(this.container),l=this.scroller===window?window.innerHeight:this.scroller.offsetHeight,n=this.latestYOffset-i-t,u=this.latestYOffset-i+l+e;this.images.forEach(function(a){a.style.translateY+a.style.height<n||a.style.translateY>u?a.hide():a.load()}.bind(this))};m.prototype._getOnScroll=function(){let t=this,e=function(){let i=t.scroller===window?window.pageYOffset:t.scroller.scrollTop;t.previousYOffset=t.latestYOffset||i,t.latestYOffset=i,t.scrollDirection=t.latestYOffset>t.previousYOffset?"down":"up",t.inRAF||(t.inRAF=!0,window.requestAnimationFrame(function(){t._doLayout(),t.inRAF=!1}))};return e};m.prototype.enable=function(){this.onScroll=this._getOnScroll(),this.scroller.addEventListener("scroll",this.onScroll),this.onScroll(),this._computeLayout(),this._doLayout();let t=()=>this.scroller===window?window.innerWidth:this.scroller.offsetWidth;return W.add(function(){this.lastWindowWidth=t(),this._computeLayout(),this._doLayout();let e=t();e!==this.lastWindowWidth&&(this.lastWindowWidth=e,this._computeLayout(),this._doLayout())}.bind(this)),this};m.prototype.disable=function(){return this.scroller.removeEventListener("scroll",this.onScroll),W.disable(),this};function E(t,e,i){return this.existsOnPage=!1,this.aspectRatio=t.aspectRatio,this.filename=t.filename,this.index=e,this.pig=i,this.classNames={figure:i.settings.classPrefix+"-figure",thumbnail:i.settings.classPrefix+"-thumbnail",loaded:i.settings.classPrefix+"-loaded"},this}E.prototype.load=function(){this.existsOnPage=!0,this._updateStyles(),this.pig.container.appendChild(this.getElement()),setTimeout(function(){if(!this.existsOnPage)return;this.thumbnail||(this.thumbnail=new Image,this.thumbnail.src=this.pig.settings.urlForSize(this.filename,this.pig.settings.thumbnailSize),this.thumbnail.className=this.classNames.thumbnail,this.thumbnail.onload=function(){this.thumbnail&&(this.thumbnail.className+=" "+this.classNames.loaded)}.bind(this),this.getElement().appendChild(this.thumbnail)),this.fullImage||(this.fullImage=new Image,this.fullImage.src=this.pig.settings.urlForSize(this.filename,this.pig.settings.getImageSize(this.pig.lastWindowWidth)),this.fullImage.onload=function(){this.fullImage&&(this.fullImage.className+=" "+this.classNames.loaded)}.bind(this),this.getElement().appendChild(this.fullImage))}.bind(this),100)};E.prototype.hide=function(){this.getElement()&&(this.thumbnail&&(this.thumbnail.src="",this.getElement().removeChild(this.thumbnail),delete this.thumbnail),this.fullImage&&(this.fullImage.src="",this.getElement().removeChild(this.fullImage),delete this.fullImage)),this.existsOnPage&&this.pig.container.removeChild(this.getElement()),this.existsOnPage=!1};E.prototype.getElement=function(){if(!this.element){this.element=document.createElement(this.pig.settings.figureTagName),this.element.className=this.classNames.figure;let t=this.pig.settings.styleForElement(this.filename);this.style&&(this.element.style=t),this.pig.settings.onClickHandler!==null&&this.element.addEventListener("click",function(){this.pig.settings.onClickHandler(this.filename)}.bind(this)),this._updateStyles()}return this.element};E.prototype._updateStyles=function(){this.getElement().style.transition=this.style.transition,this.getElement().style.width=this.style.width+"px",this.getElement().style.height=this.style.height+"px",this.getElement().style.transform="translate3d("+this.style.translateX+"px,"+this.style.translateY+"px, 0)"};"use strict";function M(t,e){let i=function(){},l=!1,n=50,u=s=>Math.hypot(s[0].pageX-s[1].pageX,s[0].pageY-s[1].pageY);var a={touchstart:{x:-1,y:-1,x2:-1,y2:-1,d:-1},touchmove:{x:-1,y:-1,x2:-1,y2:-1,d:-1},multitouch:!1};a.direction=function(){if(this.touchmove.x==-1)return"";let s=this.touchmove.x-this.touchstart.x;if(Math.abs(s)<n){let r=this.touchmove.y-this.touchstart.y;return Math.abs(r)<n?"":r>0?"down":"up"}return s>0?"right":"left"},a.reset=function(){this.touchstart.x=-1,this.touchstart.y=-1,this.touchmove.x=-1,this.touchmove.y=-1,this.touchstart.d=-1,this.touchmove.d=-1,this.touchstart.x2=-1,this.touchstart.y2=-1,this.touchmove.x2=-1,this.touchmove.y2=-1,this.multitouch=!1},a.update=function(s,r){this.multitouch=this.multitouch||r.length>1,r.length>1&&(this[s.type].d=u(r),this[s.type].x2=r[1].pageX,this[s.type].y2=r[1].pageY),this[s.type].x=r[0].pageX,this[s.type].y=r[0].pageY};let w=function(s,r){let h=1;if(r.length===2){s.scale?h=s.scale:(h=a.touchmove.d/a.touchstart.d,h=Math.round(h*100)/100),h<1&&(h=1);let b=((a.touchmove.x+a.touchmove.x2)/2-(a.touchstart.x+a.touchstart.x2)/2)*2,d=((a.touchmove.y+a.touchmove.y2)/2-(a.touchstart.y+a.touchstart.y2)/2)*2;t.style.transform=`translate3d(${b}px, ${d}px, 0) scale(${h})`,t.style.zIndex=1e3}else t.style.transform="",t.style.zIndex=""};var g=function(s){if(i("event",s.type),typeof s!="undefined"&&typeof s.touches!="undefined"){let r=s.touches;l&&r.length===1&&(r=[{pageX:r[0].pageX,pageY:r[0].pageY},{pageX:0,pageY:0}]);switch(s.type){case"touchstart":a.reset(),a.update(s,r);break;case"touchmove":a.update(s,r),w(s,r);break;case"touchend":if(t.style.transform="",!a.multitouch){let h=a.direction();i("direction",h),h&&e(h)}break;default:break}}};t.addEventListener("touchstart",g,{passive:!0}),t.addEventListener("touchmove",g,{passive:!0}),t.addEventListener("touchend",g,{passive:!0})}"use strict";var P=function(){},K={init:async function(){let t="gallerydeluxe",e="data-gd-image-data-url",i=document.getElementById(t);if(!i)throw new Error(`No element with id ${t} found.`);let l=i.getAttribute(e);if(!l)throw new Error(`No ${e} attribute found.`);let n,u,a=document.getElementById("gd-modal"),w=a.querySelector("#gd-modal-close"),g=function(o){o.preventDefault()},s=document.createElement("div");s.classList.add("gd-modal-content-wrapper"),a.insertBefore(s,a.firstChild);let r=o=>{o&&o.preventDefault(),s.removeEventListener("touchmove",g),s.removeEventListener("gesturestart",g),a.style.display="none",document.body.style.overflow="auto"};w.addEventListener("click",function(){r()});let h=function(o){P("swipe",o);switch(o){case"left":n=n.next,b();break;case"right":n=n.prev,b();break;default:r();break}};M(s,function(o){h(o)}),document.addEventListener("keydown",function(o){switch(o.key){case"ArrowLeft":h("right");break;case"ArrowRight":h("left");break;case"Escape":r(o);break}});let b=()=>{s.addEventListener("touchmove",g),s.addEventListener("gesturestart",g);let o="gd-modal-loaded",c="gd-modal-thumbnail";document.body.style.overflow="hidden";let v=a.querySelectorAll(".gd-modal-content"),T=!1,p=()=>{if(T)return;T=!0,v.forEach(S=>{S.remove()})};if(n){let S=document.getElementById("gd-modal");if(z){u&&clearTimeout(u);let y=S.querySelector("#gd-modal-exif"),C="gd-modal-exif-ontimeout",R=y.lastElementChild;for(;R;)y.removeChild(R),R=y.lastElementChild;let A=document.createElement("dl");y.appendChild(A);let k=(L,G)=>{let D=document.createElement("dt");D.innerText=J(L),A.appendChild(D);let B=document.createElement("dd");B.innerText=G,A.appendChild(B)},O=new Date(n.exif.Date);var $=new Date(O.getTime()-O.getTimezoneOffset()*6e4).toISOString().split("T")[0];k("Date",$);let Y=n.exif.Tags;for(let L in Y)k(L,Y[L]);y.classList.remove(C),u=setTimeout(()=>{y.classList.add(C)},1200)}let f=new Image;f.classList.add("gd-modal-content"),f.width=n.width,f.height=n.height,f.style.aspectRatio=n.width/n.height;let x=f.cloneNode(!1);f.classList.add(c),x.src=n.full,f.src=n["20"],f.onload=function(){f&&(s.appendChild(f),p())},x.onload=function(){x&&(s.appendChild(x),x.classList.add(o),f&&f.classList.add(o),p())},S.style.display="block"}setTimeout(function(){p()},1e3)},d=await(await fetch(l)).json();F?d=d.map(o=>({value:o,sort:Math.random()})).sort((o,c)=>o.sort-c.sort).map(({value:o})=>o):H&&(d=d.reverse());let I=new Map,_=[];for(let o=0;o<d.length;o++){let c=d[o];c.prev=d[(o+d.length-1)%d.length],c.next=d[(o+1)%d.length],_.push({filename:c.name,aspectRatio:c.width/c.height,image:c}),I.set(c.name,c)}var X={onClickHandler:function(o){P("onClickHandler",o),n=I.get(o),n&&b()},containerId:t,classPrefix:"gd",spaceBetweenImages:1,urlForSize:function(o,c){return I.get(o)[c]},styleForElement:function(o){let c=I.get(o);if(!c||c.colors.size<1)return"";let v=c.colors,T=v[0],p="#ccc";return v.length>1&&(p=v[1]),` background: linear-gradient(15deg, ${T}, ${p});`}};new m(_,X).enable()}};function J(t){return t.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()})}var q=K;q.init();})();
/*! The Pig library is MIT License (MIT) Copyright (c) 2015 Dan Schlosser, see https://github.com/schlosser/pig.js/blob/master/LICENSE.md  */
